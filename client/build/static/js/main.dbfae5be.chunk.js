(this["webpackJsonptalum-game"]=this["webpackJsonptalum-game"]||[]).push([[0],Array(32).concat([function(t,e,a){t.exports=a.p+"static/media/b.36829967.svg"},,,,function(t,e,a){t.exports=a(131)},,,,,function(t,e,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,,function(t,e,a){},function(t,e,a){var s={"./10c.svg":76,"./10d.svg":77,"./10h.svg":78,"./10s.svg":79,"./1c.svg":80,"./1d.svg":81,"./1h.svg":82,"./1s.svg":83,"./1s2.svg":84,"./2c.svg":85,"./2d.svg":86,"./2h.svg":87,"./2s.svg":88,"./3c.svg":89,"./3d.svg":90,"./3h.svg":91,"./3s.svg":92,"./4c.svg":93,"./4d.svg":94,"./4h.svg":95,"./4s.svg":96,"./5c.svg":97,"./5d.svg":98,"./5h.svg":99,"./5s.svg":100,"./6c.svg":101,"./6d.svg":102,"./6h.svg":103,"./6s.svg":104,"./7c.svg":105,"./7d.svg":106,"./7h.svg":107,"./7s.svg":108,"./8c.svg":109,"./8d.svg":110,"./8h.svg":111,"./8s.svg":112,"./9c.svg":113,"./9d.svg":114,"./9h.svg":115,"./9s.svg":116,"./b.svg":32,"./jc.svg":117,"./jd.svg":118,"./jh.svg":119,"./js.svg":120,"./kc.svg":121,"./kd.svg":122,"./kh.svg":123,"./ks.svg":124,"./qc.svg":125,"./qd.svg":126,"./qh.svg":127,"./qs.svg":128};function n(t){var e=c(t);return a(e)}function c(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=c,t.exports=n,n.id=75},function(t,e,a){t.exports=a.p+"static/media/10c.46d30fd4.svg"},function(t,e,a){t.exports=a.p+"static/media/10d.7f2f14fe.svg"},function(t,e,a){t.exports=a.p+"static/media/10h.c22bc3db.svg"},function(t,e,a){t.exports=a.p+"static/media/10s.241d8ed7.svg"},function(t,e,a){t.exports=a.p+"static/media/1c.5522f7ee.svg"},function(t,e,a){t.exports=a.p+"static/media/1d.74a874d9.svg"},function(t,e,a){t.exports=a.p+"static/media/1h.ef7c50b8.svg"},function(t,e,a){t.exports=a.p+"static/media/1s.b39d7ba4.svg"},function(t,e,a){t.exports=a.p+"static/media/1s2.49b14f5f.svg"},function(t,e,a){t.exports=a.p+"static/media/2c.8dc0f91e.svg"},function(t,e,a){t.exports=a.p+"static/media/2d.9b2b7d93.svg"},function(t,e,a){t.exports=a.p+"static/media/2h.25a4bbad.svg"},function(t,e,a){t.exports=a.p+"static/media/2s.c0ad7af1.svg"},function(t,e,a){t.exports=a.p+"static/media/3c.ee94f47c.svg"},function(t,e,a){t.exports=a.p+"static/media/3d.62d35b8b.svg"},function(t,e,a){t.exports=a.p+"static/media/3h.6d8ff3cf.svg"},function(t,e,a){t.exports=a.p+"static/media/3s.203ae462.svg"},function(t,e,a){t.exports=a.p+"static/media/4c.563d3b84.svg"},function(t,e,a){t.exports=a.p+"static/media/4d.f8ffb533.svg"},function(t,e,a){t.exports=a.p+"static/media/4h.8dfeaf44.svg"},function(t,e,a){t.exports=a.p+"static/media/4s.c2b2773e.svg"},function(t,e,a){t.exports=a.p+"static/media/5c.6d08c7ed.svg"},function(t,e,a){t.exports=a.p+"static/media/5d.c4aaf080.svg"},function(t,e,a){t.exports=a.p+"static/media/5h.9ec9a068.svg"},function(t,e,a){t.exports=a.p+"static/media/5s.c33993c5.svg"},function(t,e,a){t.exports=a.p+"static/media/6c.a50f5ff5.svg"},function(t,e,a){t.exports=a.p+"static/media/6d.059d1dd1.svg"},function(t,e,a){t.exports=a.p+"static/media/6h.8f4927bf.svg"},function(t,e,a){t.exports=a.p+"static/media/6s.7a17f80a.svg"},function(t,e,a){t.exports=a.p+"static/media/7c.e01096e8.svg"},function(t,e,a){t.exports=a.p+"static/media/7d.9f5c264a.svg"},function(t,e,a){t.exports=a.p+"static/media/7h.70e74661.svg"},function(t,e,a){t.exports=a.p+"static/media/7s.ed1ebdb6.svg"},function(t,e,a){t.exports=a.p+"static/media/8c.9d0a476c.svg"},function(t,e,a){t.exports=a.p+"static/media/8d.1939b5d5.svg"},function(t,e,a){t.exports=a.p+"static/media/8h.c1f64ceb.svg"},function(t,e,a){t.exports=a.p+"static/media/8s.8766a7e1.svg"},function(t,e,a){t.exports=a.p+"static/media/9c.17b4ae55.svg"},function(t,e,a){t.exports=a.p+"static/media/9d.c7cf4433.svg"},function(t,e,a){t.exports=a.p+"static/media/9h.20dd2315.svg"},function(t,e,a){t.exports=a.p+"static/media/9s.4a95f37c.svg"},function(t,e,a){t.exports=a.p+"static/media/jc.805671d1.svg"},function(t,e,a){t.exports=a.p+"static/media/jd.a01339b2.svg"},function(t,e,a){t.exports=a.p+"static/media/jh.2a10f735.svg"},function(t,e,a){t.exports=a.p+"static/media/js.9e20aecd.svg"},function(t,e,a){t.exports=a.p+"static/media/kc.57675a2c.svg"},function(t,e,a){t.exports=a.p+"static/media/kd.f537ae10.svg"},function(t,e,a){t.exports=a.p+"static/media/kh.2ea2a962.svg"},function(t,e,a){t.exports=a.p+"static/media/ks.17a0a4d7.svg"},function(t,e,a){t.exports=a.p+"static/media/qc.c47281bb.svg"},function(t,e,a){t.exports=a.p+"static/media/qd.eaa1f925.svg"},function(t,e,a){t.exports=a.p+"static/media/qh.37ac6fed.svg"},function(t,e,a){t.exports=a.p+"static/media/qs.348b64ba.svg"},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),c=a(33),r=a.n(c);a(41),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));for(var i=a(1),o=a(2),d=a(9),u=a(4),p=a(3),m=a(34),l=a.n(m),g=(a(74),a(35)),f={},v=["c","d","h","s"],h=function(t,e){var s,n=Object(g.a)(v);try{for(n.s();!(s=n.n()).done;){var c=s.value;e[t+c]=a(75)("./"+t+c+".svg")}}catch(r){n.e(r)}finally{n.f()}},k=1;k<=10;k++)h(k,f);for(var C=0,b=["j","q","k"];C<b.length;C++){h(b[C],f)}f.flipped=a(32);var I=f,x=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(t){return Object(i.a)(this,a),e.call(this,t)}return Object(o.a)(a,[{key:"onClick",value:function(){""!==this.props.card&&this.props.onClick()}},{key:"render",value:function(){return""===this.props.card?n.a.createElement("div",null," No card"):n.a.createElement("img",{className:"Playing-card ".concat(this.props.selected?"selected":""),src:!0===this.props.flipped?I.flipped:I[this.props.card],alt:!0===this.props.flipped?"Hidden Card":I[this.props.card],onClick:this.onClick.bind(this)})}}]),a}(s.Component),y=(a(129),function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){for(var t=this,e=[],a=function(a){var s=t.determineIfFlipped(a),c=!1;t.props.selected===a&&(c=!0),e.push(n.a.createElement("div",{style:{gridRow:a%2+1,gridColumn:Math.floor(a/2)+1}},n.a.createElement(x,{onClick:function(){return t.onClickCard(a)},selected:c,flipped:s,card:t.props.cards[a]})))},s=0;s<this.props.cards.length;s++)a(s);var c=[];return c.push(n.a.createElement("div",{className:"Card-Displayer"},e)),"VIEW_CARDS"===this.props.mode&&c.push(n.a.createElement("button",{className:"viewCardButton",onClick:function(){return t.doneViewingCard()}}," Done viewing cards")),n.a.createElement("div",null,c)}},{key:"determineIfFlipped",value:function(t){var e=!0;return"VIEW_CARDS"!==this.props.mode||3!==t&&1!==t||(e=!1),"FINISHED"===this.props.mode&&(e=!1),e}},{key:"doneViewingCard",value:function(){fetch("/done_viewing_card?playerId=".concat(this.props.socket.id,"&gameId=").concat(this.props.gameId),{method:"POST"})}},{key:"onClickCard",value:function(t){this.props.onClick(t)}}]),a}(n.a.Component)),w=(a(130),"NOT_YOUR_TURN"),E="DRAWING_CARD",_="CARD_DRAWNN",O="TALOUM_SAID",j=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(t){var s;return Object(i.a)(this,a),(s=e.call(this,t)).state={currentCard:"",mode:"NOT_YOUR_TURN",cardDrawn:"",selectedFromHand:-1,result:"",displayCardMode:""},s}return Object(o.a)(a,[{key:"render",value:function(){var t=this,e=[];return this.state.mode===E&&(e.push(n.a.createElement("button",{onClick:function(){return t.drawCard()}}," Draw a card ! ")),""!==this.state.currentCard&&e.push(n.a.createElement("button",{onClick:function(){return t.drawCurrentCard()}},"Draw current card ")),e.push(n.a.createElement("button",{onClick:function(){return t.taloum()}}," Taloum ! "))),this.state.mode===_&&(e.push(n.a.createElement("div",{className:"drawnCard"},n.a.createElement(x,{selected:!1,onClick:function(){return t.onClickCardDrawn()},flipped:!1,card:this.state.cardDrawn}))),e.push(n.a.createElement("button",{onClick:function(){return t.passTurn()}}," Pass "))),this.state.mode===O&&e.push(n.a.createElement("div",null,this.state.result)),e.push(n.a.createElement("div",{className:"currentCard"},n.a.createElement(x,{selected:!1,onClick:function(){return t.onClickCurrentCard()},className:"currentCard",flipped:!1,card:this.state.currentCard}))),e.push(n.a.createElement(y,{mode:this.state.displayCardMode,selected:this.state.selectedFromHand,onClick:function(e){return t.onClickInHand(e)},cards:this.props.cards})),n.a.createElement("div",null,e)}},{key:"componentDidMount",value:function(){var t=this;this.props.socket.on("newTurn",(function(e){return t.handleNewTurn(e)})),this.props.socket.on("cardDrawn",(function(e){return t.handleCardDraw(e)})),this.props.socket.on("updateCurrentCard",(function(e){return t.setState({currentCard:e})})),this.props.socket.on("taloum",(function(e){return t.setState({result:e,mode:O,displayCardMode:"FINISHED"})}))}},{key:"handleNewTurn",value:function(t){this.props.socket.id===t?this.setState({mode:E}):this.setState({mode:w})}},{key:"drawCard",value:function(){fetch("/draw_card?playerId=".concat(this.props.socket.id,"&gameId=").concat(this.props.gameId),{method:"POST"})}},{key:"taloum",value:function(){fetch("/taloum?playerId=".concat(this.props.socket.id,"&gameId=").concat(this.props.gameId),{method:"POST"})}},{key:"handleCardDraw",value:function(t){this.setState({mode:_,cardDrawn:t})}},{key:"onClickCardDrawn",value:function(){-1!==this.state.selectedFromHand&&(fetch("/replace_drawn?playerId=".concat(this.props.socket.id,"&gameId=").concat(this.props.gameId,"&position=").concat(this.state.selectedFromHand),{method:"POST"}),this.setState({selectedFromHand:-1}))}},{key:"onClickInHand",value:function(t){this.state.selectedFromHand===t?this.setState({selectedFromHand:-1}):this.setState({selectedFromHand:t})}},{key:"onClickCurrentCard",value:function(){-1!==this.state.selectedFromHand&&fetch("/put_on_current_card?playerId=".concat(this.props.socket.id,"&gameId=").concat(this.props.gameId,"&position=").concat(this.state.selectedFromHand),{method:"POST"})}},{key:"passTurn",value:function(){fetch("/pass_turn?playerId=".concat(this.props.socket.id,"&gameId=").concat(this.props.gameId),{method:"POST"})}},{key:"drawCurrentCard",value:function(){fetch("/draw_current_card?playerId=".concat(this.props.socket.id,"&gameId=").concat(this.props.gameId),{method:"POST"})}}]),a}(n.a.Component),S="GAME_NOT_BEGUN",D="VIEW_CARDS",N="GAME_RUNNING",T=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(t){var s;return Object(i.a)(this,a),(s=e.call(this,t)).state={gameState:S,cards:[]},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.props.socket.on("stateUpdate",(function(e){return t.setState({gameState:e})})),this.props.socket.on("cardUpdate",(function(e){return t.setState({cards:e})}))}},{key:"render",value:function(){var t=this;switch(this.state.gameState){case S:return n.a.createElement("div",null,n.a.createElement("div",null," \"Hello you're are about to start game : ",this.props.gameId,'"'),n.a.createElement("button",{onClick:function(){return t.start_game()}}," Start the game"));case D:return n.a.createElement(y,{mode:"VIEW_CARDS",cards:this.state.cards,socket:this.props.socket,gameId:this.props.gameId});case N:return n.a.createElement(j,{socket:this.props.socket,gameId:this.props.gameId,cards:this.state.cards})}return n.a.createElement("div",null," The game state is ",this.state.gameState)}},{key:"start_game",value:function(){fetch("/start_game?gameId=".concat(this.props.gameId),{method:"POST"})}}]),a}(n.a.Component),H=1,F=0,R=3,A=l()(window.location.origin),P=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(t){var s;return Object(i.a)(this,a),(s=e.call(this,t)).state={game_state:F,gameId:""},s.start_new_game=s.start_new_game.bind(Object(d.a)(s)),s}return Object(o.a)(a,[{key:"start_new_game",value:function(){var t=this;fetch("/create_game?playerId=".concat(A.id),{method:"Post"}).then((function(t){return t.json()})).then((function(e){return t.setState({gameId:e.gameId,game_state:H})}))}},{key:"render",value:function(){var t=this;switch(console.log(window.location),this.state.game_state){case F:return n.a.createElement("div",null,n.a.createElement("button",{onClick:this.start_new_game}," Start a new game"),n.a.createElement("button",{onClick:function(){return t.join_game()}},"Join a game"));case R:return n.a.createElement("div",null,n.a.createElement("p",null," Pleas enter the gameId "),n.a.createElement("input",{type:"text",name:"gameId",value:this.state.gameId,onChange:function(e){return t.handleGameIdInput(e)}}),n.a.createElement("button",{onClick:function(){return t.submitJoinGame()}}," Join game"));case H:return n.a.createElement(T,{socket:A,gameId:this.state.gameId})}}},{key:"join_game",value:function(){this.setState({game_state:R})}},{key:"handleGameIdInput",value:function(t){this.setState({gameId:t.target.value})}},{key:"submitJoinGame",value:function(){var t=this;fetch("/join_game?playerId=".concat(A.id,"&gameId=").concat(this.state.gameId," "),{method:"Post"}).then((function(t){return t.json()})).then((function(e){return t.setState({gameId:e.gameId,game_state:H})}))}}]),a}(n.a.Component);r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}]),[[36,1,2]]]);
//# sourceMappingURL=main.dbfae5be.chunk.js.map